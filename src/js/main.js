!function(){"use strict";document.querySelectorAll(".range-input").forEach(e=>{const t=e.closest(".range").querySelectorAll(".range-mark");function c(e){t.forEach((t,c)=>{t.style.visibility=c==e?"hidden":"visible"})}e.addEventListener("input",e=>{c(+e.target.value)}),c(+e.value)}),document.querySelectorAll(".calculator__period-switcher").forEach(e=>{const t=e.querySelector(".switcher__left"),c=e.querySelector(".switcher__right");t.addEventListener("click",()=>{t.classList.add("switcher__active"),c.classList.remove("switcher__active")}),c.addEventListener("click",()=>{c.classList.add("switcher__active"),t.classList.remove("switcher__active")})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("calculator__users-range"),t=document.querySelector(".calculator__users-count"),c=document.getElementById("calculator__region-range"),r=document.querySelector(".calculator__region-count"),s=document.querySelector(".calculator__reset"),o=[10,20,30,40,50,100],n=[1,2,3,4,5,10],l={base:15e3,standard:25e3,profi:35e3},i={base:document.querySelector(".costs__base .costs__title + .costs__main-info + h5"),standard:document.querySelector(".costs__standart .costs__title + .costs__main-info + h5"),profi:document.querySelector(".costs__profi .costs__title + .costs__main-info + h5")},a=document.querySelectorAll(".costs__block .costs__main-info .costs__item:nth-child(1) .costs__item-value"),u=document.querySelectorAll(".costs__block .costs__main-info .costs__item:nth-child(2) .costs__item-value"),d=o[0],_=n[0];let v=!1;function h(e){e.closest(".range").querySelectorAll(".range-mark").forEach((t,c)=>{t.style.visibility=c==+e.value?"hidden":"visible"})}function f(e,t){e.forEach(e=>e.textContent=t)}function m(){const e=parseInt(t.value,10),c=parseInt(r.value,10);Object.keys(l).forEach(t=>{let r=l[t];e>10&&(r+=1e3*Math.floor((e-10)/10)),c>1&&(r+=1e3*(c-1)),v?(r=12*r*.7,i[t].textContent=`${r.toLocaleString("ru-RU")} ₽/год`):i[t].textContent=`${r.toLocaleString("ru-RU")} ₽/месяц`})}function y(){s.disabled=+t.value===d&&+r.value===_&&!v}function L(e,t,c){const r=parseInt(e.value,10);let s=c.indexOf(r);-1===s&&(s=r<c[0]?0:r>c[c.length-1]?c.length-1:c.findIndex(e=>e>=r)),t.value=s,h(t)}function q(e,t,c,r){e.addEventListener("input",()=>{const s=parseInt(e.value,10),o=c[s];t.value=o,f(r,o),h(e),m(),y()})}function S(e,t,c,r){e.addEventListener("input",()=>{const s=parseInt(e.value,10);isNaN(s)||(f(r,s),L(e,t,c),m(),y())})}function E(e,t,c,r,s){e.addEventListener("input",()=>{e.value=e.value.replace(/\D/g,""),""===e.value&&(e.value=t);let o=parseInt(e.value,10);o<t&&(o=t),o>c&&(o=c),e.value=o,L(e,r,s)})}document.querySelectorAll(".calculator__period-switcher").forEach(e=>{const t=e.querySelector(".switcher__left"),c=e.querySelector(".switcher__right");t.addEventListener("click",()=>{t.classList.add("switcher__active"),c.classList.remove("switcher__active"),v=!1,m(),y()}),c.addEventListener("click",()=>{c.classList.add("switcher__active"),t.classList.remove("switcher__active"),v=!0,m(),y()})}),E(t,1,1e3,e,o),E(r,1,100,c,n),h(e),h(c),f(a,d),f(u,_),m(),q(e,t,o,a),q(c,r,n,u),S(t,e,o,a),S(r,c,n,u),s.addEventListener("click",()=>{e.value=0,c.value=0,t.value=d,r.value=_,v=!1,document.querySelector(".switcher__left").classList.add("switcher__active"),document.querySelector(".switcher__right").classList.remove("switcher__active"),f(a,d),f(u,_),h(e),h(c),m(),s.disabled=!0})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})})});const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("show"),t.unobserve(e.target))})},{threshold:.1});document.querySelectorAll(".animate-on-scroll").forEach(t=>{e.observe(t)}),function(){const e=document.querySelector(".feedback__slider");if(!e)return;let t=0;const c=e.querySelectorAll(".feedback__item"),r=c.length;function s(e){c.forEach(e=>e.classList.remove("active")),c[e].classList.add("active")}document.querySelector(".feedback__prev").addEventListener("click",()=>{t=(t-1+r)%r,s(t)}),document.querySelector(".feedback__next").addEventListener("click",()=>{t=(t+1)%r,s(t)}),s(t)}(),document.querySelectorAll(".questions__item").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active")})});const t=document.querySelector(".feedback__form");t&&t.addEventListener("submit",function(e){e.preventDefault();let c=!0;t.querySelectorAll("input[required], textarea[required]").forEach(e=>{e.value.trim()?e.classList.remove("error"):(e.classList.add("error"),c=!1)}),c&&(alert("Форма успешно отправлена!"),t.reset())})}();